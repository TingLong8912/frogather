{"ast":null,"code":"/**\n * @module ol/source/Stamen\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport XYZ from './XYZ.js';\nimport { ATTRIBUTION as OSM_ATTRIBUTION } from './OSM.js';\n/**\n * @const\n * @type {Array<string>}\n */\nvar ATTRIBUTIONS = ['Map tiles by <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>, ' + 'under <a href=\"https://creativecommons.org/licenses/by/3.0/\" target=\"_blank\">CC BY' + ' 3.0</a>.', OSM_ATTRIBUTION];\n/**\n * @type {Object<string, {extension: string, opaque: boolean}>}\n */\nvar LayerConfig = {\n  'terrain': {\n    extension: 'jpg',\n    opaque: true\n  },\n  'terrain-background': {\n    extension: 'jpg',\n    opaque: true\n  },\n  'terrain-labels': {\n    extension: 'png',\n    opaque: false\n  },\n  'terrain-lines': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-background': {\n    extension: 'png',\n    opaque: true\n  },\n  'toner': {\n    extension: 'png',\n    opaque: true\n  },\n  'toner-hybrid': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-labels': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-lines': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-lite': {\n    extension: 'png',\n    opaque: true\n  },\n  'watercolor': {\n    extension: 'jpg',\n    opaque: true\n  }\n};\n/**\n * @type {Object<string, {minZoom: number, maxZoom: number}>}\n */\nvar ProviderConfig = {\n  'terrain': {\n    minZoom: 0,\n    maxZoom: 18\n  },\n  'toner': {\n    minZoom: 0,\n    maxZoom: 20\n  },\n  'watercolor': {\n    minZoom: 0,\n    maxZoom: 18\n  }\n};\n/**\n * @typedef {Object} Options\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {string} layer Layer name.\n * @property {number} [minZoom] Minimum zoom.\n * @property {number} [maxZoom] Maximum zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for the Stamen tile server.\n * @api\n */\nvar Stamen = /** @class */function (_super) {\n  __extends(Stamen, _super);\n  /**\n   * @param {Options} options Stamen options.\n   */\n  function Stamen(options) {\n    var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n    if (options.interpolate !== undefined) {\n      interpolate = options.interpolate;\n    }\n    var i = options.layer.indexOf('-');\n    var provider = i == -1 ? options.layer : options.layer.slice(0, i);\n    var providerConfig = ProviderConfig[provider];\n    var layerConfig = LayerConfig[options.layer];\n    var url = options.url !== undefined ? options.url : 'https://stamen-tiles-{a-d}.a.ssl.fastly.net/' + options.layer + '/{z}/{x}/{y}.' + layerConfig.extension;\n    return _super.call(this, {\n      attributions: ATTRIBUTIONS,\n      cacheSize: options.cacheSize,\n      crossOrigin: 'anonymous',\n      interpolate: interpolate,\n      maxZoom: options.maxZoom != undefined ? options.maxZoom : providerConfig.maxZoom,\n      minZoom: options.minZoom != undefined ? options.minZoom : providerConfig.minZoom,\n      opaque: layerConfig.opaque,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction: options.tileLoadFunction,\n      transition: options.transition,\n      url: url,\n      wrapX: options.wrapX,\n      zDirection: options.zDirection\n    }) || this;\n  }\n  return Stamen;\n}(XYZ);\nexport default Stamen;","map":{"version":3,"names":["XYZ","ATTRIBUTION","OSM_ATTRIBUTION","ATTRIBUTIONS","LayerConfig","extension","opaque","ProviderConfig","minZoom","maxZoom","Stamen","_super","__extends","options","interpolate","imageSmoothing","undefined","i","layer","indexOf","provider","slice","providerConfig","layerConfig","url","call","attributions","cacheSize","crossOrigin","reprojectionErrorThreshold","tileLoadFunction","transition","wrapX","zDirection"],"sources":["../src/source/Stamen.js"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}