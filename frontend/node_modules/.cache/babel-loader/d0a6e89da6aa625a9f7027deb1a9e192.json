{"ast":null,"code":"/**\n * @module ol/source/TileDebug\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport XYZ from './XYZ.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Optional projection.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Set to `1` when debugging `VectorTile` sources with a default configuration.\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n * @property {string} [template='z:{z} x:{x} y:{y}'] Template for labeling the tiles.\n * Should include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n */\n/**\n * @classdesc\n * A pseudo tile source, which does not fetch tiles from a server, but renders\n * a grid outline for the tile grid/projection along with the coordinates for\n * each tile. See examples/canvas-tiles for an example.\n * @api\n */\nvar TileDebug = /** @class */function (_super) {\n  __extends(TileDebug, _super);\n  /**\n   * @param {Options} [opt_options] Debug tile options.\n   */\n  function TileDebug(opt_options) {\n    var _this = this;\n    /**\n     * @type {Options}\n     */\n    var options = opt_options || {};\n    _this = _super.call(this, {\n      opaque: false,\n      projection: options.projection,\n      tileGrid: options.tileGrid,\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\n      zDirection: options.zDirection,\n      url: options.template || 'z:{z} x:{x} y:{y}',\n      tileLoadFunction: function (tile, text) {\n        var z = tile.getTileCoord()[0];\n        var tileSize = toSize(_this.tileGrid.getTileSize(z));\n        var context = createCanvasContext2D(tileSize[0], tileSize[1]);\n        context.strokeStyle = 'grey';\n        context.strokeRect(0.5, 0.5, tileSize[0] + 0.5, tileSize[1] + 0.5);\n        context.fillStyle = 'grey';\n        context.strokeStyle = 'white';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        context.font = '24px sans-serif';\n        context.lineWidth = 4;\n        context.strokeText(text, tileSize[0] / 2, tileSize[1] / 2, tileSize[0]);\n        context.fillText(text, tileSize[0] / 2, tileSize[1] / 2, tileSize[0]);\n        /** @type {import(\"../ImageTile.js\").default} */\n        tile.setImage(context.canvas);\n      }\n    }) || this;\n    return _this;\n  }\n  return TileDebug;\n}(XYZ);\nexport default TileDebug;","map":{"version":3,"names":["XYZ","createCanvasContext2D","toSize","TileDebug","_super","__extends","opt_options","_this","options","call","opaque","projection","tileGrid","wrapX","undefined","zDirection","url","template","tileLoadFunction","tile","text","z","getTileCoord","tileSize","getTileSize","context","strokeStyle","strokeRect","fillStyle","textAlign","textBaseline","font","lineWidth","strokeText","fillText","setImage","canvas"],"sources":["../src/source/TileDebug.js"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAIA,OAAOA,GAAG,MAAM,UAAU;AAC1B,SAAQC,qBAAqB,QAAO,WAAW;AAC/C,SAAQC,MAAM,QAAO,YAAY;AAEjC;;;;;;;;;;;;AAaA;;;;;;;AAOA,IAAAC,SAAA,0BAAAC,MAAA;EAAwBC,SAAA,CAAAF,SAAA,EAAAC,MAAA;EACtB;;;EAGA,SAAAD,UAAYG,WAAW;IAAvB,IAAAC,KAAA;IACE;;;IAGA,IAAMC,OAAO,GAAGF,WAAW,IAAI,EAAE;YAEjCF,MAAA,CAAAK,IAAA,OAAM;MACJC,MAAM,EAAE,KAAK;MACbC,UAAU,EAAEH,OAAO,CAACG,UAAU;MAC9BC,QAAQ,EAAEJ,OAAO,CAACI,QAAQ;MAC1BC,KAAK,EAAEL,OAAO,CAACK,KAAK,KAAKC,SAAS,GAAGN,OAAO,CAACK,KAAK,GAAG,IAAI;MACzDE,UAAU,EAAEP,OAAO,CAACO,UAAU;MAC9BC,GAAG,EAAER,OAAO,CAACS,QAAQ,IAAI,mBAAmB;MAC5CC,gBAAgB,EAAE,SAAAA,CAACC,IAAI,EAAEC,IAAI;QAC3B,IAAMC,CAAC,GAAGF,IAAI,CAACG,YAAY,EAAE,CAAC,CAAC,CAAC;QAChC,IAAMC,QAAQ,GAAGrB,MAAM,CAACK,KAAI,CAACK,QAAQ,CAACY,WAAW,CAACH,CAAC,CAAC,CAAC;QACrD,IAAMI,OAAO,GAAGxB,qBAAqB,CAACsB,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC;QAE/DE,OAAO,CAACC,WAAW,GAAG,MAAM;QAC5BD,OAAO,CAACE,UAAU,CAAC,GAAG,EAAE,GAAG,EAAEJ,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,EAAEA,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAElEE,OAAO,CAACG,SAAS,GAAG,MAAM;QAC1BH,OAAO,CAACC,WAAW,GAAG,OAAO;QAC7BD,OAAO,CAACI,SAAS,GAAG,QAAQ;QAC5BJ,OAAO,CAACK,YAAY,GAAG,QAAQ;QAC/BL,OAAO,CAACM,IAAI,GAAG,iBAAiB;QAChCN,OAAO,CAACO,SAAS,GAAG,CAAC;QACrBP,OAAO,CAACQ,UAAU,CAACb,IAAI,EAAEG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC;QACvEE,OAAO,CAACS,QAAQ,CAACd,IAAI,EAAEG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC;QAErE;QAAkDJ,IAAI,CAAEgB,QAAQ,CAC9DV,OAAO,CAACW,MAAM,CACf;MACH;KACD,CAAC;;EACJ;EACF,OAAAjC,SAAC;AAAD,CAAC,CAxCuBH,GAAG;AA0C3B,eAAeG,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}