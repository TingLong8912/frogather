{"ast":null,"code":"import { useContext, useEffect } from \"react\";\nimport MapContext from \"../../hook/MapContext\";\nimport OLVectorLayer from \"ol/layer/Vector\";\nconst RecordVectorLayer = ({\n  name,\n  source,\n  style,\n  visible,\n  zIndex = 0\n}) => {\n  const {\n    map,\n    recordCoords\n  } = useContext(MapContext);\n  useEffect(() => {\n    if (!map) return;\n    let vectorLayer = new OLVectorLayer({\n      name,\n      source,\n      style,\n      visible\n    });\n    map.getLayers().forEach(layer => {\n      var lname = layer === null || layer === void 0 ? void 0 : layer.get(\"name\");\n      if (lname === \"recordLayer\") map.removeLayer(layer);\n    });\n    map.addLayer(vectorLayer);\n    vectorLayer.setZIndex(zIndex);\n  }, [recordCoords, visible]);\n  return null;\n};\nexport default RecordVectorLayer;","map":{"version":3,"names":["useContext","useEffect","MapContext","OLVectorLayer","RecordVectorLayer","name","source","style","visible","zIndex","map","recordCoords","vectorLayer","getLayers","forEach","layer","lname","get","removeLayer","addLayer","setZIndex"],"sources":["/Users/yantinglong/Documents/project/frogather/src/components/Layers/RecordVectorLayer.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport MapContext from \"../../hook/MapContext\";\nimport OLVectorLayer from \"ol/layer/Vector\";\n\nconst RecordVectorLayer = ({ name, source, style, visible, zIndex = 0 }) => {\n\tconst { map, recordCoords } = useContext(MapContext);\n\n\tuseEffect(()=>{\n\t\tif (!map) return;\n\t\tlet vectorLayer = new OLVectorLayer({\n\t\t\tname,\n\t\t\tsource,\n\t\t\tstyle,\n\t\t\tvisible\n\t\t});\n\t\tmap.getLayers().forEach((layer) => {\n\t\t\tvar lname = layer?.get(\"name\");\n\t\t\tif (lname === \"recordLayer\") map.removeLayer(layer);\n\t\t});\n\t\tmap.addLayer(vectorLayer);\n\t\tvectorLayer.setZIndex(zIndex);\n\t}, [recordCoords, visible]);\n\n\treturn null;\n};\n\nexport default RecordVectorLayer;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,OAAOC,aAAa,MAAM,iBAAiB;AAE3C,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,MAAM;EAAEC,KAAK;EAAEC,OAAO;EAAEC,MAAM,GAAG;AAAE,CAAC,KAAK;EAC3E,MAAM;IAAEC,GAAG;IAAEC;EAAa,CAAC,GAAGX,UAAU,CAACE,UAAU,CAAC;EAEpDD,SAAS,CAAC,MAAI;IACb,IAAI,CAACS,GAAG,EAAE;IACV,IAAIE,WAAW,GAAG,IAAIT,aAAa,CAAC;MACnCE,IAAI;MACJC,MAAM;MACNC,KAAK;MACLC;IACD,CAAC,CAAC;IACFE,GAAG,CAACG,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,KAAK,IAAK;MAClC,IAAIC,KAAK,GAAGD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,GAAG,CAAC,MAAM,CAAC;MAC9B,IAAID,KAAK,KAAK,aAAa,EAAEN,GAAG,CAACQ,WAAW,CAACH,KAAK,CAAC;IACpD,CAAC,CAAC;IACFL,GAAG,CAACS,QAAQ,CAACP,WAAW,CAAC;IACzBA,WAAW,CAACQ,SAAS,CAACX,MAAM,CAAC;EAC9B,CAAC,EAAE,CAACE,YAAY,EAAEH,OAAO,CAAC,CAAC;EAE3B,OAAO,IAAI;AACZ,CAAC;AAED,eAAeJ,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module"}